# kids-food-advisor

**1æ­³åŠã€œ3æ­³ã®å¹¼å…å‘ã‘AIæ „é¤Šç›¸è«‡ã‚·ã‚¹ãƒ†ãƒ **

## ğŸ± æ¦‚è¦

ãã£ãšãƒ•ãƒ¼ãƒ‰ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒ¼ã¯ã€1æ­³åŠã€œ3æ­³ã®å¹¼å…ã‚’æŒã¤ä¿è­·è€…ã®ãŸã‚ã®æ „é¤Šç›¸è«‡AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚Google Agent Development Kit (ADK) ã¨Vertex AI ã‚’æ´»ç”¨ã—ã€å¹¼å…ã®é£Ÿäº‹å†™çœŸã‹ã‚‰æ „é¤Šãƒãƒ©ãƒ³ã‚¹ã‚’åˆ†æã—ã€å¹´é½¢ã«å¿œã˜ãŸæ „é¤Šã‚¢ãƒ‰ãƒã‚¤ã‚¹ã¨å®Ÿè·µçš„ãªãƒ¬ã‚·ãƒ”ã‚’æä¾›ã—ã¾ã™ã€‚

## âœ¨ ä¸»ãªæ©Ÿèƒ½

- **ğŸ“¸ ç”»åƒèªè­˜ã«ã‚ˆã‚‹é£Ÿäº‹åˆ†æ** - ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã§æ’®å½±ã—ãŸé£Ÿäº‹å†™çœŸã‹ã‚‰æ–™ç†åã¨æ „é¤Šæˆåˆ†ã‚’è‡ªå‹•æ¨å®š
- **ğŸ”¢ å¹´é½¢åˆ¥æ „é¤Šãƒãƒ©ãƒ³ã‚¹è©•ä¾¡** - åšç”ŸåŠ´åƒçœã®ã€Œæ—¥æœ¬äººã®é£Ÿäº‹æ‘‚å–åŸºæº–ã€ã«åŸºã¥ã„ãŸå¹¼å…æœŸã®æ „é¤Šç›®æ¨™å€¤ã¨ã®æ¯”è¼ƒ
- **ğŸ‘¨â€ğŸ³ å®Ÿè·µçš„ãªãƒ¬ã‚·ãƒ”ææ¡ˆ** - ä¸è¶³æ „é¤Šç´ ã‚’è£œã†å¹¼å…å‘ã‘ãƒ¬ã‚·ãƒ”ã‚’å…·ä½“çš„ã«ææ¡ˆ
- **ğŸ’¬ å¯¾è©±å‹ç›¸è«‡** - ä¿è­·è€…ã®è³ªå•ã«å„ªã—ãä¸å¯§ã«å›ç­”ã™ã‚‹ç¶™ç¶šçš„ãªæ „é¤Šç›¸è«‡
- **ğŸ”’ å®‰å…¨ãªãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆç’°å¢ƒ** - Firebaseèªè¨¼ã«ã‚ˆã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã®å®‰å…¨ãªãƒ‡ãƒ¼ã‚¿ç®¡ç†

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **Google Agent Development Kit (ADK)** - ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- **Vertex AI Agent Engine** - æœ¬ç•ªç’°å¢ƒã§ã®ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ãªAIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå®Ÿè¡Œ
- **Gemini 2.0 Flash** - é«˜é€Ÿãªå¯¾è©±ç”Ÿæˆã¨ç”»åƒèªè­˜
- **Cloud Functions** - ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
- **Firebase Authentication** - ã‚»ã‚­ãƒ¥ã‚¢ãªãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰  
- **Next.js 15** - React ãƒ™ãƒ¼ã‚¹ã®ãƒ¢ãƒ€ãƒ³ãªWebãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **TypeScript** - å‹å®‰å…¨ãªé–‹ç™ºç’°å¢ƒ
- **TailwindCSS** - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³
- **Zustand** - çŠ¶æ…‹ç®¡ç†
- **React Query** - ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°ã¨åŒæœŸ

### ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£
- **Google Cloud Platform** - ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¤ãƒ³ãƒ•ãƒ©åŸºç›¤
- **Terraform** - Infrastructure as Code
- **GitHub Actions** - CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
- **OpenTelemetry** - è¦³æ¸¬å¯èƒ½æ€§ã¨ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```text
kids-food-advisor/
â”œâ”€â”€ app/                       # ã‚³ã‚¢ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ agent_engine_app.py    # Agent Engineãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚¢ãƒ—ãƒª
â”‚   â”œâ”€â”€ vertex_ai_agent.py     # Vertex AIçµ±åˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ multi_turn_agent.py    # ãƒãƒ«ãƒã‚¿ãƒ¼ãƒ³å¯¾è©±ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ agents/                # å°‚é–€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ nutritionist_agent.py       # æ „é¤Šåˆ†æã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
â”‚   â”‚   â””â”€â”€ recipe_advisor.py           # ãƒ¬ã‚·ãƒ”ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ auth/                  # èªè¨¼ã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”‚   â””â”€â”€ firebase_auth.py   # Firebaseèªè¨¼çµ±åˆ
â”‚   â”œâ”€â”€ data/                  # ãƒ‡ãƒ¼ã‚¿ãƒ¬ã‚¤ãƒ¤ãƒ¼
â”‚   â”‚   â”œâ”€â”€ foods.py           # å¹¼å…å‘ã‘é£Ÿå“ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
â”‚   â”‚   â””â”€â”€ nutrition.py       # æ „é¤Šè¨ˆç®—ã‚¨ãƒ³ã‚¸ãƒ³
â”‚   â”œâ”€â”€ tools/                 # ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ„ãƒ¼ãƒ«
â”‚   â”‚   â”œâ”€â”€ nutrition_analyzer.py       # æ „é¤Šåˆ†æãƒ„ãƒ¼ãƒ«
â”‚   â”‚   â”œâ”€â”€ recipe_suggester.py         # ãƒ¬ã‚·ãƒ”ææ¡ˆãƒ„ãƒ¼ãƒ«
â”‚   â”‚   â”œâ”€â”€ vertex_nutrition_analyzer.py # Vertex AIæ „é¤Šåˆ†æãƒ„ãƒ¼ãƒ«
â”‚   â”‚   â”œâ”€â”€ pdf_processor.py            # PDFå‡¦ç†ãƒ„ãƒ¼ãƒ«
â”‚   â”‚   â””â”€â”€ rag_search.py               # RAGæ¤œç´¢ãƒ„ãƒ¼ãƒ«
â”‚   â””â”€â”€ utils/                 # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚       â”œâ”€â”€ gcs.py             # GCSãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚       â”œâ”€â”€ tracing.py         # ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°æ©Ÿèƒ½
â”‚       â”œâ”€â”€ input_validation.py # å…¥åŠ›ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
â”‚       â””â”€â”€ typing.py          # å‹å®šç¾©
â”œâ”€â”€ frontend/                  # React Next.jsãƒ™ãƒ¼ã‚¹ã®ãƒ¢ãƒ€ãƒ³ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ src/app/               # Next.js App Router
â”‚   â”œâ”€â”€ src/components/        # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ auth/              # èªè¨¼é–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ chat/              # ãƒãƒ£ãƒƒãƒˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
â”‚   â”‚   â”œâ”€â”€ forms/             # é£Ÿäº‹å…¥åŠ›ãƒ»è¨­å®šãƒ•ã‚©ãƒ¼ãƒ 
â”‚   â”‚   â”œâ”€â”€ layout/            # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â””â”€â”€ ui/                # åŸºæœ¬UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆshadcn/uiï¼‰
â”‚   â”œâ”€â”€ src/hooks/             # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ï¼ˆAPIä½¿ç”¨ï¼‰
â”‚   â”œâ”€â”€ src/providers/         # React Queryç­‰ã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
â”‚   â”œâ”€â”€ src/stores/            # ZustandçŠ¶æ…‹ç®¡ç†
â”‚   â”œâ”€â”€ src/types/             # TypeScriptå‹å®šç¾©
â”‚   â””â”€â”€ src/utils/             # APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
â”œâ”€â”€ cloud_functions/           # Cloud Functions
â”‚   â”œâ”€â”€ agent_engine_stream/   # ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ»ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†API
â”‚   â””â”€â”€ image_recognition/     # ç”»åƒèªè­˜API
â”œâ”€â”€ deployment/                # ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã¨ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ terraform/             # Terraformã‚¤ãƒ³ãƒ•ãƒ©å®šç¾©
â”‚   â”œâ”€â”€ ci/                    # CIè¨­å®šï¼ˆGitHub Actionsï¼‰
â”‚   â””â”€â”€ cd/                    # CDè¨­å®šï¼ˆãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆï¼‰
â”œâ”€â”€ tests/                     # ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ unit/                  # ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ integration/           # çµ±åˆãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ load_test/             # ãƒ­ãƒ¼ãƒ‰ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ Makefile                   # é–‹ç™ºã‚³ãƒãƒ³ãƒ‰
â””â”€â”€ pyproject.toml             # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šãƒ»ä¾å­˜é–¢ä¿‚
```

## å¿…è¦è¦ä»¶

é–‹å§‹å‰ã«ä»¥ä¸‹ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ï¼š

- **uv**: Pythonãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ - [ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](https://docs.astral.sh/uv/getting-started/installation/)
- **Google Cloud SDK**: GCPã‚µãƒ¼ãƒ“ã‚¹ç”¨ - [ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](https://cloud.google.com/sdk/docs/install)
- **Terraform**: ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆç”¨ - [ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](https://developer.hashicorp.com/terraform/downloads)
- **make**: ãƒ“ãƒ«ãƒ‰è‡ªå‹•åŒ–ãƒ„ãƒ¼ãƒ« - [ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](https://www.gnu.org/software/make/) (Unixç³»ã‚·ã‚¹ãƒ†ãƒ ã«ã¯é€šå¸¸ãƒ—ãƒªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«)
- **Node.js & npm**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºç”¨ - [ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](https://nodejs.org/)

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### ğŸš€ ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã—ãŸç›´å¾Œã‹ã‚‰å‹•ä½œã•ã›ã‚‹ã¾ã§ã®å®Œå…¨æ‰‹é †ï¼š

#### 1. åŸºæœ¬ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# 1. ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/resqnet/kids_food_advisor.git
cd kids_food_advisor

# 2. Pythonä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
uv venv
source .venv/bin/activate
make install

# 3. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
cd frontend && npm install && cd ..
```

#### 2. Google Cloudè¨­å®š

```bash
# Google Cloudã«ãƒ­ã‚°ã‚¤ãƒ³
gcloud auth login
gcloud auth application-default login
gcloud config set project your-dev-project-id

# Firebase Adminç”¨ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚­ãƒ¼å–å¾—
gcloud iam service-accounts keys create service-account-key.json \
  --iam-account=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com
```

#### 3. ç’°å¢ƒå¤‰æ•°è¨­å®š

```bash
# 4. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ç’°å¢ƒå¤‰æ•°è¨­å®š
cp .env.example .env
# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ï¼ˆä»¥ä¸‹ã®å¿…é ˆé …ç›®ã‚’è¨­å®šï¼‰

# 5. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç’°å¢ƒå¤‰æ•°è¨­å®š
cp frontend/.env.example frontend/.env
# frontend/.envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ï¼ˆFirebaseè¨­å®šãŒå¿…é ˆï¼‰
```

#### 4. Firebaseè¨­å®šå–å¾—

Firebaseè¨­å®šã¯ Firebase Console > ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š > å…¨èˆ¬ã‚¿ãƒ– > ã‚¢ãƒ—ãƒªè¨­å®š ã‹ã‚‰å–å¾—ã§ãã¾ã™ã€‚

#### 5. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•

```bash
# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼ˆè¤‡æ•°ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•ï¼‰
make dev-backend-adk
# èµ·å‹•ã•ã‚Œã‚‹ã‚µãƒ¼ãƒ“ã‚¹:
# - Image Recognition API (port 8081) 
# - Chat Agent Engine API (port 8082)

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
make dev-frontend
# - Next.js Frontend (port 3002)
```

### ğŸŒ ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤

ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ‰‹é †ï¼š

#### 1. Google Cloudèªè¨¼

```bash
# Google Cloudã«ãƒ­ã‚°ã‚¤ãƒ³
gcloud auth login
gcloud config set project your-staging-project-id
```

#### 2. ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

Terraformã‚’ä½¿ç”¨ã—ãŸã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# devç’°å¢ƒ
make deploy

# æœ¬ç•ªç’°å¢ƒ
make deploy prod=true
```

#### 3. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# Agent Engineãƒ‡ãƒ—ãƒ­ã‚¤
make backend

# Cloud Functionsãƒ‡ãƒ—ãƒ­ã‚¤
make deploy-image-function
make deploy-chat-function
```

#### 4. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç’°å¢ƒå¤‰æ•°ã‚’æœ¬ç•ªç”¨ã«æ›´æ–°
# frontend/.envã§ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç”¨URLã‚’è¨­å®š:
# NEXT_PUBLIC_AGENT_ENGINE_URL=https://your-region-your-project.cloudfunctions.net/agent-engine-stream

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ‡ãƒ—ãƒ­ã‚¤
make deploy-frontend-staging
```

### ğŸ” èªè¨¼ã«ã¤ã„ã¦

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ Firebase Authentication ã«ã‚ˆã‚‹ Googleèªè¨¼ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚

**é‡è¦ãªå¤‰æ›´ç‚¹:**
- å…¨APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§èªè¨¼ãŒå¿…é ˆ
- ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«åˆ†é›¢
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§Googleèªè¨¼ãƒ­ã‚°ã‚¤ãƒ³ãƒ»ãƒ­ã‚°ã‚¢ã‚¦ãƒˆæ©Ÿèƒ½
- APIå‹ç”Ÿæˆï¼ˆOrvalï¼‰ã§èªè¨¼ãŒè‡ªå‹•é©ç”¨

## é–‹ç™ºã‚³ãƒãƒ³ãƒ‰

### é–‹ç™ºã‚³ãƒãƒ³ãƒ‰

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ | ãƒãƒ¼ãƒˆ |
| -------------------- | ------------------------------------------------------------------------------------------- | ------ |
| `make install` | uvã‚’ä½¿ç”¨ã—ã¦ã™ã¹ã¦ã®ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆjupyterã€frontend extraå«ã‚€ï¼‰ | - |
| `make dev-backend` | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•ï¼ˆç”»åƒèªè­˜APIã€ãƒãƒ£ãƒƒãƒˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼‰ | 8081, 8082 |
| `make dev-backend-adk` | ADKãƒ¢ãƒ¼ãƒ‰ã§ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ADKå®Ÿè¡Œï¼‰ | 8081, 8082 |
| `make dev-backend-vertex` | Vertex AIãƒ¢ãƒ¼ãƒ‰ã§ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•ï¼ˆAgent Engineæ¥ç¶šï¼‰ | 8081, 8082 |
| `make dev-frontend` | React Next.jsãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’èµ·å‹•ï¼ˆAPIå‹è‡ªå‹•ç”Ÿæˆå«ã‚€ï¼‰ | 3002 |
| `make dev-stage-frontend` | ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ‰ã§ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’èµ·å‹•ï¼ˆVertex AIæ¥ç¶šç”¨ï¼‰ | 3003 |
| `make test` | ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã¨çµ±åˆãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œï¼ˆpytestï¼‰ | - |
| `make lint` | ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯ï¼ˆcodespellã€ruffã€mypyï¼‰ | - |
| `make kill-all-servers` | å…¨ã¦ã®é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’åœæ­¢ï¼ˆãƒãƒ¼ãƒˆè¡çªè§£æ±ºç”¨ï¼‰ | - |

### ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚³ãƒãƒ³ãƒ‰

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
| -------------------- | ------------------------------------------------------------------------------------------- |
| `make backend` | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’Vertex AI Agent Engineã«ãƒ‡ãƒ—ãƒ­ã‚¤ |
| `make deploy` | Terraformã‚’ä½¿ç”¨ã—ã¦devç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ |
| `make deploy prod=true` | Terraformã‚’ä½¿ç”¨ã—ã¦æœ¬ç•ªç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ |
| `make deploy-image-function` | ç”»åƒèªè­˜Cloud Functionã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ |
| `make deploy-chat-function` | ãƒãƒ£ãƒƒãƒˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆCloud Functionã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ |
| `make deploy-frontend-staging` | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ |
| `make deploy-frontend-prod` | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’æœ¬ç•ªç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆè¦ç¢ºèªï¼‰ |

### ã‚¤ãƒ³ãƒ•ãƒ©ãƒ»è¨­å®šã‚³ãƒãƒ³ãƒ‰

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
| -------------------- | ------------------------------------------------------------------------------------------- |
| `make setup-dev-env` | Terraformã‚’ä½¿ç”¨ã—ã¦é–‹ç™ºç’°å¢ƒãƒªã‚½ãƒ¼ã‚¹ã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— |
| `make update-terraform-config` | æ–°ã—ã„Agent Engine IDã§Terraformè¨­å®šã‚’æ›´æ–° |
| `make pdf-upload` | PDFã‚’Vertex AI Searchã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ |
å®Œå…¨ãªã‚³ãƒãƒ³ãƒ‰ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ä½¿ç”¨æ–¹æ³•ã«ã¤ã„ã¦ã¯ã€[Makefile](Makefile)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## Vertex AIçµ±åˆæ©Ÿèƒ½

Vertex AI Searchæ©Ÿèƒ½ã«ã‚ˆã‚Šã€RAGï¼ˆRetrieval-Augmented Generationï¼‰ã«ã‚ˆã‚‹é«˜åº¦ãªæ „é¤Šç›¸è«‡ãŒå¯èƒ½ã§ã™ï¼š

### Vertex AIçµ±åˆã®ä½¿ç”¨æ–¹æ³•

1. **PDFã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**ï¼š
   ```bash
   make pdf-upload      # æ „é¤ŠçŸ¥è­˜ãƒ™ãƒ¼ã‚¹PDFã‚’Vertex AI Searchã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
   ```

2. **ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**ï¼š
   ```bash
   make test-agent
   ```
